<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Meal Calculation</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mealcalapp/premium@latest/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mealcalapp/meal-app-files/flip.css">
</head>
<body>

 <!-- Manager & Month -->
  <div id="" style="display: flex; justify-content: center; gap: 10px; margin-top: -20px;">
    <div class="input-group">
      <input type="text" class="input-field" id="managerInput" placeholder=" " id="manager">
      <label for="manager" class="input-label">Manager</label>
    </div>
    <div class="input-group">
      <input type="text" class="input-field" placeholder=" " id="month">
      <label for="month" class="input-label">Month</label>
    </div>
    <div id="comparisonResult" style="margin-top: -10px; font-weight:250px;"></div> 
  </div>

  <!-- Table -->
  <table id="mealTable" style="margin-top:-9px;">
    <thead>
      <tr>
        <th>Serial</th>
        <th>Name</th>
        <th>Deposit Tk</th>
        <th>Meal</th>
        <th>Meal Rate</th>
        <th>Meal Cost</th>
        <th>Additional Cost</th>
        <th>Total Cost</th>
        <th class="dueHead">Due</th>
        <th class="refundHead">Refund</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

 <!-- Notice Box -->
    <div id="noticeBox" class="" style="background-color: dodgerblue; color: white; padding: 5px; border-radius: 5px; margin-top: -10px; text-align: center; display: flex; justify-content: center; align-items: center;">
      ‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡ß´ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∏‡¶ï‡¶≤ ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß ‡¶ï‡¶∞‡¶¨‡ßá‡¶®, ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§ 
      <span style="display: flex; align-items: center;">
        <img src="https://www.logo.wine/a/logo/BKash/BKash-Icon2-Logo.wine.svg" alt="bKash" style="height:30px; vertical-align: middle;">
        bKash (+charge): 01761561321
      </span>
    </div>

  <!-- Controls -->
  <div class="controls" id="">
    <div class="input-group">
      <input type="number" class="input-field" id="memberCount" id="members" placeholder=" " oninput="generateTable()">
      <label for="members" class="input-label">Members</label>
    </div>
    <div class="input-group">
      <input type="number" class="input-field" id="totalMeal" placeholder=" " id="meal">
      <label for="meal" class="input-label">Meal</label>
    </div>
    <div class="input-group">
      <input type="number" class="input-field" id="bazarCost" placeholder=" " id="bazar">
      <label for="bazar" class="input-label">Bazar Cost</label>
    </div>
    <div class="input-group">
      <input type="" class="input-field" id="mealRateBox" readonly value="0.00">
      <label for="mealRateBox" class="input-label">Meal Rate</label>
    </div>
    <div class="input-group">
      <input type="number" class="input-field" id="additionalCost" placeholder="" id="additional">
      <label for="additional" class="input-label">Additional</label>
    </div>
    <div class="input-group">
      <input type="" class="input-field" id="addCostRateBox" readonly value="0">
      <label for="addCostRateBox" class="input-label">Additional Cost</label>
    </div>
  </div>
  <div class="controls" id="" style="justify-content: space-evenly;">
    <h4 style="color:#333;">Compare with Previous Month üëâ</h4>
    <div class="input-group">
      <input type="number" class="input-field" id="prevMealRate" oninput="compareRates()" placeholder="" id="preMeal">
      <label for="preMeal" class="input-label">Pre Meal Rate</label>
    </div>
    <div class="input-group">
      <input type="number" class="input-field" id="prevAddCostRate" oninput="compareRates()" placeholder="" id="preAddCost">
      <label for="preAddCost" class="input-label">Pre Add Cost</label>
    </div>
     <div class="control-item">
      <label>Notice Control:</label>
      <input type="text" id="monthInput" placeholder="Next Month" style="padding:5px; border-radius:5px;">
      <input type="number" id="dateInput" placeholder="Last Date" style="padding:5px; border-radius:5px;">
      <input type="number" id="bkashInput" placeholder="bKash Account" style="padding:5px; border-radius:5px;"><br>
      <button onclick="updateNotice()" class="shine-btn" style="padding:5px 10px; color: white; border:none; border-radius:5px;">Update</button>
    </div>
  </div>
  <div class="notice-box mb-2">
    <marquee id="monthMarquee" style="color: dodgerblue;padding: 5px;border-radius: 5px;border:1px solid dodgerblue;margin-top: 5px;" behavior="scroll"><!-- Text will appear here --></marquee>
  </div>
  <div class="text-center">
      <div id="flipdownTimer" class="flipdown d-inline-block"></div>
  </div>
  <div class="" style="display: flex; gap: 20px; justify-content: center;">
    <button id="saveBtn" class="shine-btn">Save as CSV</button>
    <button id="pdfBtn" class="shine-btn">Save as PDF</button>
  </div>
  <!-- JS Start -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const marquee = document.getElementById("monthMarquee");
      const now = new Date();
      const monthYear = now.toLocaleString('default', { month: 'long', year: 'numeric' });
      const customText = "Time Left";
      marquee.textContent = `${monthYear} ‚Äî ${customText}`;
    });
  </script>
  <script src="https://cdn.jsdelivr.net/gh/mealcalapp/meal-app-files@latest/app.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/mealcalapp/meal-app-files/flip.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.countdown/2.2.0/jquery.countdown.min.js" integrity="sha512-lteuRD+aUENrZPTXWFRPTBcDDxIGWe5uu0apPEn+3ZKYDwDaEErIK9rvR0QzUGmUQ55KFE2RqGTVoZsKctGMVw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.1/jspdf.plugin.autotable.min.js"></script>

  <div style="text-align:center; margin-top:20px; font-size:13px; color:#555;">
    <span style="font-size:18px; vertical-align:middle;">&copy;</span>
    <a href="https://saniatkajoljisan.github.io/skjisan/" target="_blank" style="color:#3182ce; font-weight:bold; text-decoration:none; margin:0 1px; vertical-align:middle;">SK JISAN</a>
    <span id="currentYear" style="vertical-align:middle;"></span>
  </div>
  <script>
    document.getElementById('currentYear').textContent = new Date().getFullYear();
  </script>

</body>
</html>
